
Yuniko => 充值运营分析实时监控平台

TODO 项目架构
D:\IdeaIU_work_space1\TopUpPlatform\src\main\resources\Spark\项目架构.png
TODO 集群规模 Flume
业务节点分为 PC 端和手机端:
PC 端一共有 11 台, flume 会监控每台节点生成的日志文件, 一共有 11 个 Flume 节点手机端一共有 8 台,
flume 会监控每台节点生成的日志文件, 一共有 8 个 Flume 节点.
支付结果通知和充值结果通知:
该业务有 4 台节点, flume 会监控每台节点生成的日志文件, 一共有 4 个 Flume 节点. 机器配置?
TODO 项目数据量
数据量每天大概 2000 到 3000 万笔的下单量, 每条数据大概在 0.5KB 左右,下单量数据大概在 15GB 左右
最后充值成功的大概 500 到 1000 万,平时充值成功的大概五六百万笔.
月初和月末量比较大
TODO 项目需求

Tr 业务概况 结果写入Redis
1)统计全网的充值订单量, 充值金额, 充值成功数
2)实时充值业务办理趋势, 主要统计全网的订单量数据
Tr 业务质量 存入Mysql
全国各省充值业务失败量分布
统计每小时各个省份的充值失败数据量
Tr 充值订单省份 TOP10
以省份为维度统计订单量排名前 10 的省份数据,并且统计每个省份的订单成功率，只保留一位小数，存入MySQL中，进行前台页面显示。
Tr 实时充值情况分布 存入Mysql
实时统计每小时的充值笔数和充值金额。
Tr 业务失败省份 TOP3（离线处理[每天]）（存入MySQL）
以省份为维度统计每个省份的充值失败数,及失败率存入MySQL中。
Tr 充值机构分布
1)以省份为维度,统计每分钟各省的充值笔数和充值金额
2)以省份为维度,统计每小时各省的充值笔数和充值金额